(function(domain,undefined){"use strict";function doTapClickHandler(e){if("touchstart"==e.type){if(e.targetTouches.length>=2)return;var t=e.target,n=t.nodeName.toLowerCase(),o=t.nodeType;if(1==o&&("input"==n||"textarea"==n))return;for(;t&&t!=document;){if(t.classList.contains(".not-click"))return;t=t.parentNode}return isMove=!1,startT=Date.now(),identy=e.targetTouches[0].identifier,startX=e.targetTouches[0].clientX,startY=e.targetTouches[0].clientY,document.addEventListener("touchmove",doTapClickHandler,!0),document.addEventListener("touchend",doTapClickHandler,!0),document.addEventListener("touchcancel",doTapClickHandler,!0),void(document.activeElement&&document.activeElement.blur())}if("touchmove"==e.type){if(isMove)return;var c=e.changedTouches[0].clientX-startX,r=e.changedTouches[0].clientY-startY;if(threshold*threshold>=c*c+r*r)return;return void(isMove=!0)}if("touchend"==e.type){if(e.preventDefault(),document.removeEventListener("touchmove",doTapClickHandler,!0),document.removeEventListener("touchend",doTapClickHandler,!0),document.removeEventListener("touchcancel",doTapClickHandler,!0),isMove)return;var a=Date.now()-startT>=holdDelay?"hold":"click",d=e.changedTouches[0],t=e.target,i=document.createEvent("MouseEvent");return i.initMouseEvent(a,!0,!0,e.view,e.detail,d.screenX,d.screenY,d.clientX,d.clientY,!1,!1,!1,!1,0,null),void t.dispatchEvent(i)}return"touchcancel"==e.type?(document.removeEventListener("touchmove",doTapClickHandler,!0),document.removeEventListener("touchend",doTapClickHandler,!0),void document.removeEventListener("touchcancel",doTapClickHandler,!0)):void 0}document.documentElement.classList.contains("allow-native-touch")||document.addEventListener("touchmove",function(e){e.preventDefault()});var startX=0,startY=0,startT=0,identy=0,isMove=!1,threshold=5,holdDelay=1e3;document.addEventListener("touchstart",doTapClickHandler);if(typeof Page == "function" && !document.currentPage){domain.currentPage=new Page();}}(this||window));
//# sourceMappingURL=system.js.map
